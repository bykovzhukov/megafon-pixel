{"version":3,"sources":["webpack://MegafonPixel/webpack/bootstrap","webpack://MegafonPixel/./node_modules/cmtt-likely/source/config.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/dom.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/utils.js","webpack://MegafonPixel/./src/js/lib/analytics.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/services/index.js","webpack://MegafonPixel/./src/config.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/storage.js","webpack://MegafonPixel/./src/js/lib/dom.js","webpack://MegafonPixel/./src/index.js","webpack://MegafonPixel/./src/js/special.js","webpack://MegafonPixel/./src/js/base.js","webpack://MegafonPixel/./src/js/data.js","webpack://MegafonPixel/./src/js/svg.js","webpack://MegafonPixel/./src/js/lib/share.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/index.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/widget.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/button.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/service.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/services/odnoklassniki.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/services/vk.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/services/facebook.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/services/twitter.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/services/gplus.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/services/pocket.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/services/telegram.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/services/whatsapp.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/services/viber.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/services/email.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/services/more.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/fetch.js","webpack://MegafonPixel/./node_modules/cmtt-likely/source/factory.js","webpack://MegafonPixel/./src/js/lib/array.js","webpack://MegafonPixel/./src/js/lib/animate.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","secure","window","location","protocol","prefix","storageKey","breakpoint","config","div","document","createElement","gid","dom","wrapSVG","coords","createNode","html","innerHTML","children","getScript","url","script","head","type","src","appendChild","removeChild","getJSON","callback","encodeURIComponent","replace","find","selector","node","querySelector","findAll","querySelectorAll","isMobile","matchMedia","matches","openPopup","winId","width","height","left","Math","round","screen","top","options","open","bool","yes","no","utils","each","toArray","arrayLike","Array","slice","merge","result","arguments","length","arg","extend","target","subject","flexboxSupport","element","f","fw","e","style","display","className","getDataset","dataset","attribute","attributes","toUpperCase","n0","charAt","test","substr","bools","data","template","text","makeUrl","query","filter","push","join","set","frags","split","last","forEach","index","sendEvent","label","action","undefined","Config","analyticsCategory","dataLayer","event","data_description","sendPageView","post_details","section","tags","title","pathname","Service","svg","services","odnoklassniki","vkontakte","facebook","twitter","gplus","pocket","telegram","whatsapp","viber","email","more","service","svgi","listenedEvents","isAvailable","localStorage","setItem","removeItem","storage","getItem","item","JSON","parse","stringify","makeElement","tagName","classNames","toLowerCase","attr","_typeof","cname","classList","add","dataAttributes","cacheElements","obj","newObj","elements","el","assign","getSiblings","siblings","sibling","parentNode","firstChild","nextSibling","nodeType","removeChildren","parent","removeElement","htmlStringToNode","prepend","insertBefore","isElementInDom","Special","Share","_dom","_array","_animate","CSS","EL","IMAGES","params","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","saveParams","Data","css","loadStyles","then","init","BaseSpecial","q","qHeader","qTitle","qPages","Svg","img","qPagesText","qFigureWrap","qFigure","qFigureBound","qFigureImg","qFigureHint","textContent","qOptions","qAnswer","qAnswerTitle","qAnswerText","qBtn","qNextBtn","arrow","caption","click","qResultBtn","rBody","rFigure","rBound","rFigureInner","rHeadline","rTitle","rImg","rFigureBottom","rShare","rRestartBtn","refresh","rBottom","rText","rBtn","score","results","some","range","images","it","j","srcset","img2x","activeIndex","questions","map","id","shuffle","optionWrap","option","question","setImage","makeOptions","setPages","_this2","answered","currentAttempts","isCorrect","correctAnswers","setTimeout","showAnswer","contains","animate","remove","msg","makeNextQuestion","getResult","container","make","setInitialParamas","_this3","createElements","storeImages","startBtn","addEventListener","start","once","Analytics","keyCodes","enter","body","addEventListeners","path","Promise","resolve","reject","link","rel","href","onload","onerror","eventName","defaultEventHandler","currentTarget","description","logo","Likely","initate","parentContainer","likelyContainer","social","button","likely","widget","update","defaults","initiate","widgets","counters","timeout","zeroes","wait","hash","Button","isSmartOrder","smart","countersLeft","buttons","number","reorder","savedServices","reverse","addButton","timer","appear","ready","counterUrl","forceUpdate","updateCounter","counter","clearTimeout","fetch","htmlSpan","LikelyButton","detectService","detectParams","initHtml","initCounter","classes","parseInt","isNaN","counterNumber","content","icon","fullClass","counterElement","toggle","parentElement","popupUrl","rememberClicked","twitterText","twitterUrl","window_url","addAdditionalParamsToUrl","popupWidth","popupHeight","parameters","delimeter","indexOf","serviceIndex","splice","factory","self","count","convertNumber","promise","promises","share","share_count","Factory","factories","listeners","argument","listener","getMostFrequentValue","array","sort","a","b","v","pop","x","floor","random","nodeList","elem","duration","delay","_loop","func","removeEventListener","one","animationDuration","animationDelay","requestAnimate","performance","now","requestAnimationFrame","time","timeFraction","progress","timing","draw"],"mappings":"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","file":"all.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","/**\n * Configuration\n */\n\nvar secure = window.location.protocol === 'https:';\n\nmodule.exports = {\n    name: 'likely',\n    prefix: 'likely__',\n    secure: secure,\n    protocol: secure ? 'https:' : 'http:',\n    storageKey: 'likelyServices',\n    breakpoint: 680\n};","var config = require('./config');\n\nvar div = document.createElement('div'),\n    gid = 0;\n\nvar dom = module.exports = {\n    /**\n     * Wrap SVG coords from data object into SVG tag\n     *\n     * @param {String} coords\n     */\n    wrapSVG: function (coords) {\n        return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" ' + 'viewBox=\"0 0 16 16\"><path d=\"M' + coords + 'z\"/></svg>';\n    },\n\n    /**\n     * Create node from HTML\n     *\n     * @param {String} html\n     */\n    createNode: function (html) {\n        div.innerHTML = html;\n\n        return div.children[0];\n    },\n\n    /**\n     * Load script\n     *\n     * @param {String} url\n     */\n    getScript: function (url) {\n        var script = document.createElement('script'),\n            head   = document.head;\n\n        script.type = 'text/javascript';\n        script.src  = url;\n\n        head.appendChild(script);\n        head.removeChild(script);\n    },\n\n    /**\n     * Get JSON\n     *\n     * @param {String} url\n     * @param {Function} callback\n     */\n    getJSON: function (url, callback) {\n        var name = encodeURIComponent('random_fun_' + (++gid));\n\n        url = url.replace(\n            /callback=(\\?)/,\n            'callback=' + name\n        );\n\n        window[name] = callback;\n\n        dom.getScript(url);\n    },\n\n    /**\n     * Find first node by selector\n     *\n     * @param {String} selector\n     * @param {Node} node\n     * @return {Node}\n     */\n    find: function (selector, node) {\n        return (node || document).querySelector(selector);\n    },\n\n    /**\n     * Find all nodes by selector\n     *\n     * @param {String} selector\n     * @param {Node} node\n     * @return {NodeList}\n     */\n    findAll: function (selector, node) {\n        return (node || document).querySelectorAll(selector);\n    },\n\n    /**\n     * Check mobile media query\n     */\n    isMobile: function() {\n        return !window.matchMedia('(min-width: ' + config.breakpoint + 'px)').matches;\n    },\n\n    /**\n     * Open the popup\n     *\n     * @param {String} url\n     * @param {String} winId\n     * @param {Number} width,\n     * @param {Number} height\n     */\n    openPopup: function (url, winId, width, height) {\n        var left = Math.round(screen.width / 2 - width / 2),\n            top  = 0;\n\n        if (screen.height > height) {\n            top = Math.round(screen.height / 3 - height / 2);\n        }\n\n        var options = 'left='    + left +\n                      ',top='    + top +\n                      ',width='  + width +\n                      ',height=' + height +\n                      ',personalbar=0,toolbar=0,scrollbars=1,resizable=1';\n\n        var win = window.open(url, winId, options);\n\n        // if (!win) {\n        //     location.href = url;\n        //     return location.href;\n        // }\n\n        // win.focus();\n\n        return win;\n    }\n};","var bool = {yes: true, no: false},\n    rUrl = /(https?|ftp):\\/\\/[^\\s\\/$.?#].[^\\s]*/gi;\n\n/**\n * @internal\n */\nvar utils = {\n    /**\n     * Simple $.each, only for objects\n     *\n     * @param {Object} object\n     * @param {Function} callback\n     */\n    each: function (object, callback) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                callback(object[key], key);\n            }\n        }\n    },\n\n    /**\n     * Convert array-like object to array\n     *\n     * @param {Object} arrayLike\n     * @return {Array}\n     */\n    toArray: function (arrayLike) {\n        return Array.prototype.slice.call(arrayLike);\n    },\n\n    /**\n     * Merge given dictionaries (objects) into one object\n     *\n     * @param {Object} ...objects\n     * @return {Object}\n     */\n    merge: function () {\n        var result = {};\n\n        for (var i = 0; i < arguments.length; i ++) {\n            var arg = arguments[i];\n\n            if (arg) {\n                for (var key in arg) {\n                    result[key] = arg[key];\n                }\n            }\n        }\n\n        return result;\n    },\n\n    /**\n     * Extend one (target) object by other (subject)\n     *\n     * @param {Object} target\n     * @param {Object} subject\n     */\n    extend: function (target, subject) {\n        for (var key in subject) {\n            target[key] = subject[key];\n        }\n    },\n\n    /**\n     * Check new flexbox syntax support\n     */\n    flexboxSupport: function(element, name){\n        var d = document, f = 'flex', fw = '-webkit-'+f, e = d.createElement('b'), c;\n\n        try {\n            e.style.display = fw;\n            e.style.display = f;\n            c = (e.style.display == f || e.style.display == fw) ? f : 'no-'+f;\n        } catch(e) {\n            c = 'no-'+f;\n        }\n\n        element.className += ' ' + name + '--' + c;\n    },\n\n    /**\n     * Return node.dataset or plain object for IE 10without setters\n     * based on https://gist.github.com/brettz9/4093766#file_html5_dataset.js\n     *\n     * @param {Node} node\n     * @return {Object}\n     */\n    getDataset: function (node) {\n        if (typeof node.dataset === 'object') {\n            return node.dataset;\n        }\n\n        var i,\n            dataset = {},\n            attributes = node.attributes,\n            attribute,\n            attributeName;\n\n        var toUpperCase = function (n0) {\n            return n0.charAt(1).toUpperCase();\n        };\n\n        for (i = attributes.length - 1; i >= 0; i--) {\n            attribute = attributes[i];\n            if (attribute && attribute.name &&\n                (/^data-\\w[\\w\\-]*$/).test(attribute.name)) {\n                    attributeName = attribute.name.substr(5).replace(/-./g, toUpperCase);\n                    dataset[attributeName] = attribute.value;\n                }\n        }\n\n        return dataset;\n    },\n\n    /**\n     * Convert \"yes\" and \"no\" to true and false.\n     *\n     * @param {Node} node\n     */\n    bools: function (node) {\n        var result = {},\n            data   = utils.getDataset(node);\n\n        for (var key in data) {\n            var value = data[key];\n\n            result[key] = bool[value] || value;\n        }\n\n        return result;\n    },\n\n    /**\n     * Map object keys in string to its values\n     *\n     * @param {String} text\n     * @param {Object} data\n     * @return {String}\n     */\n    template: function (text, data) {\n        return !text ? '' : text.replace(/\\{([^\\}]+)\\}/g, function (value, key) {\n            return key in data ? data[key] : value;\n        });\n    },\n\n    /**\n     * Map object keys in URL to its values\n     *\n     * @param {String} text\n     * @param {Object} data\n     * @return {String}\n     */\n    makeUrl: function (text, data) {\n        for (var key in data) {\n            data[key] = encodeURIComponent(data[key]);\n        }\n\n        return utils.template(text, data);\n    },\n\n    /**\n     * Create query string out of data\n     *\n     * @param {Object} data\n     * @return {String}\n     */\n    query: function (data) {\n        var filter = encodeURIComponent,\n            query  = [];\n\n        for (var key in data) {\n            if (typeof data[key] === 'object') continue;\n\n            query.push(filter(key) + '=' + filter(data[key]));\n        }\n\n        return query.join('&');\n    },\n\n    /**\n     * Set value in object using dot-notation\n     *\n     * @param {Object} object\n     * @param {String} key\n     * @param {Object} value\n     */\n    set: function (object, key, value) {\n        var frags = key.split('.'),\n            last  = null;\n\n        frags.forEach(function (key, index) {\n            if (typeof object[key] === 'undefined') {\n                object[key] = {};\n            }\n\n            if (index !== frags.length - 1) {\n                object = object[key];\n            }\n\n            last = key;\n        });\n\n        object[last] = value;\n    }\n};\n\nmodule.exports = utils;","import Config from './../../config';\n\nconst CONSOLE_STYLE = 'color: #E87E04';\n\n/**\n * Send analytics events via GTM\n * @param {String} label - event label\n * @param {String} action - event action (\"Click\" by default)\n */\nexport const sendEvent = (label, action = 'Click') => {\n    let value = `${Config.analyticsCategory} — ${label} — ${action}`;\n\n    if (!IS_PRODUCTION) {\n        console.log(`Analytics: %c${value}`, CONSOLE_STYLE);\n    }\n\n    if (window.dataLayer !== undefined && Config.analyticsCategory) {\n        window.dataLayer.push({\n            event: 'data_event',\n            data_description: value\n        });\n    }\n};\n\n/**\n * Send pageview event via GTM\n */\nexport const sendPageView = () => {\n    if (!IS_PRODUCTION) {\n        console.log('Analytics: %cPage — View', CONSOLE_STYLE);\n    }\n\n    if (window.dataLayer !== undefined) {\n        window.dataLayer.push({\n            event: 'Page — View',\n            post_details: {},\n            section: 'special',\n            tags: [],\n            title: document.title,\n            url: window.location.pathname\n        });\n    }\n};","/**\n * Social network services\n */\n\nvar Service = require('../service'),\n    utils   = require('../utils'),\n    svg     = require('../svg.json');\n\nvar services = {\n    odnoklassniki: require('./odnoklassniki'),\n    vkontakte:     require('./vk'),\n    facebook:      require('./facebook'),\n    twitter:       require('./twitter'),\n    gplus:         require('./gplus'),\n    pocket:        require('./pocket'),\n    telegram:      require('./telegram'),\n    whatsapp:      require('./whatsapp'),\n    viber:         require('./viber'),\n    email:         require('./email'),\n    more:          require('./more')\n};\n\nutils.each(services, function (service, key) {\n    Service(service);\n\n    service.svgi = svg[key];\n    service.name = key;\n});\n\nmodule.exports = services;","export default {\n  name: 'MegafonPixel', // уникальное имя спецпроекта. Оно же — название главного класса. Используется на странице, куда интегрируется спецпроект\n  analyticsCategory: 'Category Name',\n  sendPageView: false, // отключаем, если спецпроект не на отдельной странице\n  listenedEvents: ['click', 'input'] // слушаем события (click, input, change, etc.). Обычно нужен только click\n};","var isAvailable = function() {\n\n    try {\n        window.localStorage.setItem('isStorageAvailable', 1);\n        window.localStorage.removeItem('isStorageAvailable');\n        return true;\n    } catch (e) {\n        return false;\n    }\n\n};\n\nvar storage = {\n\n    /**\n     * Get item from localStorage\n     * @param {String} key\n     */\n    getItem: function(key){\n\n        if (isAvailable()) {\n\n            var item = window.localStorage.getItem(key);\n\n            try {\n                JSON.parse(item);\n            } catch (e) {\n                return item;\n            }\n\n            return JSON.parse(item);\n\n        }\n\n    },\n\n    /**\n     * Save item in localStorage\n     * @param {String} key\n     * @param {String} value\n     */\n    setItem: function(key, value) {\n\n        value = (typeof value === 'string') ? value : JSON.stringify(value);\n\n        if (isAvailable()) {\n            window.localStorage.setItem(key, value);\n        }\n\n    },\n\n    /**\n     * Remove item from localStorage\n     * @param {String} key\n     */\n    removeItem: function(key) {\n\n        if (isAvailable()) {\n            window.localStorage.removeItem(key);\n        }\n\n    }\n\n};\n\nmodule.exports = storage;","/**\n * Make html element\n * @param {String} tagName\n * @param {Array|String} classNames - array of classnames or string for single classname\n * @param {Object} attributes - object with html attributes\n */\nexport const makeElement = (tagName, classNames = [], attributes = []) => {\n    tagName = tagName.toLowerCase();\n\n    let element = document.createElement(tagName);\n\n    if (classNames) {\n        if (typeof classNames === 'object') {\n            classNames.forEach(cname => {\n                element.classList.add(cname);\n            });\n        } else if (typeof classNames === 'string') {\n            element.classList.add(classNames);\n        }\n    }\n\n    for (let attr in attributes) {\n        if (attr === 'data') {\n            let dataAttributes = attributes[attr];\n\n            for (let attr in dataAttributes) {\n                element.dataset[attr] = dataAttributes[attr];\n            }\n        } else {\n            element[attr] = attributes[attr];\n        }\n    }\n\n    return element;\n};\n\n/**\n * Cache elements with [data-view] attribute and put them in given object\n * @param {Object} obj - object\n */\nexport const cacheElements = (obj, attr = 'view') => {\n    let newObj = {},\n        elements = document.querySelectorAll(`[data-${attr}]`);\n\n    Array.prototype.forEach.call(elements, el => {\n        let name = el.dataset[attr];\n        newObj[name] = el;\n    });\n\n    Object.assign(obj, newObj);\n};\n\n/**\n * Get all siblings of specified element, excluding this element\n * @param {Element} element\n */\nexport const getSiblings = (element) => {\n    let siblings = [],\n        sibling = element.parentNode.firstChild;\n\n    for (; sibling; sibling = sibling.nextSibling) {\n        if (sibling.nodeType !== 1 || sibling === element) continue;\n        siblings.push(sibling);\n    }\n\n    return siblings;\n};\n\n/**\n * Remove all children from element\n * @param {Element} parent\n */\nexport const removeChildren = (parent) => {\n    while (parent.firstChild) {\n        parent.removeChild(parent.firstChild);\n    }\n};\n\n/**\n * Remove specified element from its parent\n * @param {Element} element\n */\nexport const removeElement = (element) => {\n    if (element) {\n        element.parentNode.removeChild(element);\n    }\n};\n\n/**\n * Transform html string to node\n * @param {String} html\n */\nexport const htmlStringToNode = (html) => {\n    let el = document.createElement('div');\n\n    el.innerHTML = html;\n\n    return el.firstChild;\n};\n\n/**\n * Prepend source element before first child of target element\n * @param {Element} parent\n * @param {Element} el\n */\nexport const prepend = (parent, el) => {\n    parent.insertBefore(el, parent.firstChild);\n};\n\n/** Quick check if element is in DOM */\nexport const isElementInDom = (el) => {\n    return el.parentNode;\n};","/**\n * Entry point\n */\nimport Special from './js/special';\n\nmodule.exports.Special = Special; // Тут используется CommonJS модуль, чтобы можно было использовать название класса как глобальную переменную","import '../css/special.styl';\n\nimport BaseSpecial from './base';\nimport Data from './data';\nimport Svg from './svg';\nimport * as Share from './lib/share';\nimport * as Analytics from './lib/analytics';\nimport { makeElement, removeChildren } from './lib/dom';\nimport { shuffle } from './lib/array';\nimport { animate } from './lib/animate';\n\nconst CSS = {\n    main: 'MegafonPixel',\n};\n\nconst EL = {};\nconst IMAGES = {};\n\nclass Special extends BaseSpecial {\n    constructor(params = {}) {\n        super();\n\n        Object.assign(this.params, params);\n        this.saveParams();\n\n        if (Data && params.data) {\n            Object.assign(Data, params.data);\n        }\n\n        if (this.params.css) {\n            this.loadStyles(this.params.css).then(() => this.init());\n        } else {\n            this.init();\n        }\n    }\n\n    createElements() {\n        EL.q = makeElement('div', CSS.main + '-q');\n        EL.qHeader = makeElement('div', CSS.main + '-q__header');\n        EL.qTitle = makeElement('div', CSS.main + '-q__title', {\n            innerHTML: 'Угадайте, что изображено на&nbsp;картинке'\n        });\n        EL.qPages = makeElement('div', CSS.main + '-q__pages', {\n            innerHTML: Svg.img\n        });\n        EL.qPagesText = makeElement('span');\n        EL.qFigureWrap = makeElement('div', CSS.main + '-q__figure-wrap');\n        EL.qFigure = makeElement('div', CSS.main + '-q__figure');\n        EL.qFigureBound = makeElement('div', CSS.main + '-bound', {\n            innerHTML: '<span></span><span></span><span></span><span></span>'\n        });\n        EL.qFigureImg = makeElement('img', CSS.main + '-q__figure-img');\n        EL.qFigureHint = makeElement('div', CSS.main + '-q__figure-hint', {\n            textContent: 'Попробуйте еще раз'\n        });\n        EL.qOptions = makeElement('div', CSS.main + '-q__options');\n\n        EL.qAnswer = makeElement('div', CSS.main + '-q__answer');\n        EL.qAnswerTitle = makeElement('div', CSS.main + '-q__answer-title');\n        EL.qAnswerText = makeElement('div', CSS.main + '-q__answer-text');\n        EL.qBtn = makeElement('div', CSS.main + '-q__next-btn');\n        EL.qNextBtn = makeElement('button', CSS.main + '-btn', {\n            innerHTML: '<span class=\"' + CSS.main + '-btn__icon\">' + Svg.arrow + '</span>',\n            data: {\n                caption: 'Продолжить',\n                click: 'continue'\n            }\n        });\n        EL.qResultBtn = makeElement('button', CSS.main + '-btn', {\n            innerHTML: '<span class=\"' + CSS.main + '-btn__icon\">' + Svg.arrow + '</span>',\n            data: {\n                caption: 'Результат',\n                click: 'showResult'\n            }\n        });\n\n        EL.result = makeElement('div', CSS.main + '-result');\n        EL.rBody = makeElement('div', CSS.main + '-result__body');\n        EL.rFigure = makeElement('div', CSS.main + '-result__figure');\n        EL.rBound = makeElement('div', CSS.main + '-bound', {\n            innerHTML: '<span></span><span></span><span></span><span></span>'\n        });\n        EL.rFigureInner = makeElement('div', CSS.main + '-result__figure-inner');\n        EL.rHeadline = makeElement('div', CSS.main + '-result__headline');\n        EL.rTitle = makeElement('div', CSS.main + '-result__title');\n        EL.rImg = makeElement('img', CSS.main + '-result__img');\n        EL.rFigureBottom = makeElement('div', CSS.main + '-result__figure-bottom');\n        EL.rShare = makeElement('div', CSS.main + '-result__share');\n        EL.rRestartBtn = makeElement('div', CSS.main + '-result__restart-btn', {\n            innerHTML: '<span>Пройти ещё раз</span>' + Svg.refresh,\n            data: {\n                click: 'restart'\n            }\n        });\n        EL.rBottom = makeElement('div', CSS.main + '-result__bottom');\n        EL.rText = makeElement('div', CSS.main + '-result__text', {\n            innerHTML: '<p>С <a href=\"https://moscow.megafon.ru/internet/4g/\" target=\"_blank\">самым быстрым мобильным интернетом</a> от «МегаФона» не придётся угадывать, что изображено на картинке — всё загрузится моментально.</p>'\n        });\n        EL.rBtn = makeElement('div', CSS.main + '-result__btn', {\n            innerHTML: '<a href=\"#\" class=\"MegafonPixel-btn\" data-caption=\"Подключить\"></a>'\n        });\n\n        EL.rFigureBottom.appendChild(EL.rShare);\n        EL.rFigureBottom.appendChild(EL.rRestartBtn);\n        EL.rFigureInner.appendChild(EL.rHeadline);\n        EL.rFigureInner.appendChild(EL.rTitle);\n        EL.rFigureInner.appendChild(EL.rImg);\n        EL.rFigureInner.appendChild(EL.rFigureBottom);\n        EL.rFigure.appendChild(EL.rBound);\n        EL.rFigure.appendChild(EL.rFigureInner);\n        EL.rBody.appendChild(EL.rFigure);\n        EL.rBottom.appendChild(EL.rText);\n        EL.rBottom.appendChild(EL.rBtn);\n        EL.result.appendChild(EL.rBody);\n        EL.result.appendChild(EL.rBottom);\n\n\n        EL.qPages.appendChild(EL.qPagesText);\n\n        EL.qHeader.appendChild(EL.qTitle);\n        EL.qHeader.appendChild(EL.qPages);\n\n        EL.qFigure.appendChild(EL.qFigureBound);\n        EL.qFigure.appendChild(EL.qFigureImg);\n\n        EL.qFigureWrap.appendChild(EL.qFigure);\n\n        EL.qBtn.appendChild(EL.qNextBtn);\n\n        EL.qAnswer.appendChild(EL.qAnswerTitle);\n        EL.qAnswer.appendChild(EL.qAnswerText);\n        EL.qAnswer.appendChild(EL.qBtn);\n\n        EL.q.appendChild(EL.qHeader);\n        EL.q.appendChild(EL.qFigureWrap);\n        EL.q.appendChild(EL.qOptions);\n    }\n\n    getResult(score) {\n        let result = '';\n        Data.results.some(item => {\n          if (item.range[0] <= score && item.range[1] >= score) {\n            result = item;\n            return true;\n          }\n        });\n\n        return result;\n      }\n\n    storeImages(data) {\n        let img;\n\n        data.forEach((item, i) => {\n            IMAGES[i] = [];\n\n            item.images.forEach((it, j) => {\n                img = document.createElement('img');\n                img.src = it.img;\n                img.srcset = it.img2x + ' 2x';\n                IMAGES[i][j] = { 'img': img };\n            });\n        });\n    }\n\n    setImage(obj) {\n        EL.qFigureImg.src = obj.img;\n        EL.qFigureImg.srcset = obj.img2x + ' 2x';\n    }\n\n    setPages() {\n        EL.qPagesText.textContent = (this.activeIndex + 1) + '/' + Data.questions.length;\n    }\n\n    makeOptions(options) {\n        removeChildren(EL.qOptions);\n\n        options = options.map((item, i) => { item.id = i; return item; });\n        shuffle(options);\n        options.forEach(item => {\n            let optionWrap = makeElement('div', CSS.main + '-q__options-item');\n            let option = makeElement('button', CSS.main + '-btn', {\n                data: {\n                    id: item.id,\n                    caption: item.text,\n                    click: 'checkAnswer'\n                }\n            });\n            optionWrap.appendChild(option);\n\n            EL.qOptions.appendChild(optionWrap);\n        });\n    }\n\n    makeNextQuestion() {\n        let question = Data.questions[this.activeIndex];\n\n        // EL.qTitle.textContent = question.title;\n\n        this.setImage(question.images[0]);\n\n        this.makeOptions(question.options);\n\n        this.setPages();\n    }\n\n    checkAnswer(el, e) {\n        if (this.answered || el.dataset.answered) { return; }\n\n        let id = el.dataset.id,\n            question = Data.questions[this.activeIndex];\n\n        this.currentAttempts++;\n\n        if (question.options[id].isCorrect) {\n            el.classList.add('is-correct');\n            this.answered = true;\n\n            if (this.currentAttempts === 1) {\n                this.correctAnswers++;\n\n                setTimeout(() => {\n                    this.answered = false;\n                    this.showAnswer(true);\n                }, 500);\n            } else {\n                setTimeout(() => {\n                    this.answered = false;\n                    this.showAnswer(undefined);\n                }, 500);\n            }\n\n        } else {\n            el.dataset.answered = true;\n            el.classList.add('is-wrong');\n\n            this.setImage(question.images[this.currentAttempts]);\n\n            if (this.currentAttempts > 2) {\n                this.showAnswer(false);\n            } else {\n                EL.qFigureHint.style = '';\n                EL.qFigure.contains(EL.qFigureHint) ? '' : EL.qFigure.appendChild(EL.qFigureHint);\n\n                animate(EL.qFigureHint, 'fadeInDown', '600ms').then(() => {\n                    animate(EL.qFigureHint, 'fadeOutDown', '600ms', '200ms').then(() => {\n                        EL.qFigure.contains(EL.qFigureHint) ? EL.qFigure.removeChild(EL.qFigureHint) : '';\n                    });\n                });\n            }\n        }\n    }\n\n    showAnswer(isCorrect) {\n        let question = Data.questions[this.activeIndex];\n\n        this.setImage(question.images[3]);\n\n        EL.q.removeChild(EL.qOptions);\n        EL.q.appendChild(EL.qAnswer);\n\n        EL.qAnswerTitle.textContent = isCorrect === undefined ? 'С первого раза не угадали.' : isCorrect ? 'Правильно!' : 'Неправильно.';\n        isCorrect ? EL.qAnswerTitle.classList.add(CSS.main + '-q__answer-title--correct') : EL.qAnswerTitle.classList.remove(CSS.main + '-q__answer-title--correct');\n        EL.qAnswerText.innerHTML = question.msg;\n\n        if (this.activeIndex >= Data.questions.length - 1) {\n            EL.qBtn.removeChild(EL.qNextBtn);\n            EL.qBtn.appendChild(EL.qResultBtn);\n        }\n    }\n\n    continue() {\n        this.currentAttempts = 0;\n        this.activeIndex++;\n\n        EL.q.removeChild(EL.qAnswer);\n        EL.q.appendChild(EL.qOptions);\n\n        this.makeNextQuestion();\n    }\n\n    showResult() {\n        let result = this.getResult(this.correctAnswers);\n\n        removeChildren(this.container);\n        this.container.appendChild(EL.result);\n\n        EL.rHeadline.innerHTML = this.correctAnswers + ' из ' + Data.questions.length + ' изображений с&nbsp;первого раза';\n        EL.rTitle.innerHTML = result.text;\n        EL.rImg.classList = '';\n        EL.rImg.classList.add(CSS.main + '-result__img');\n        EL.rImg.classList.add(CSS.main + '-result__img--' + result.index);\n        EL.rImg.src = result.img;\n        EL.rImg.srcset = result.img2x + ' 2x';\n\n        removeChildren(EL.rShare);\n        Share.make(EL.rShare, {\n            // url: this.params.share.url + this.correctAnswers,\n            // title: this.params.share.title,\n            // twitter: this.params.share.twitter\n        });\n\n    }\n\n    restart() {\n        this.setInitialParamas();\n\n        removeChildren(this.container);\n        this.container.appendChild(EL.q);\n\n        EL.q.removeChild(EL.qAnswer);\n        EL.q.appendChild(EL.qOptions);\n\n        EL.qBtn.removeChild(EL.qResultBtn);\n        EL.qBtn.appendChild(EL.qNextBtn);\n\n        this.makeNextQuestion();\n    }\n\n    start() {\n        removeChildren(this.container);\n        this.container.appendChild(EL.q);\n\n        this.container.classList.add(CSS.main + '--q');\n\n        animate(EL.qHeader, 'fadeInDown', '200ms', '200ms');\n        animate(EL.qFigure, 'fadeInDown', '400ms');\n        animate(EL.qOptions, 'fadeInUp', '400ms');\n\n        this.makeNextQuestion();\n    }\n\n    setInitialParamas() {\n        this.activeIndex = 0;\n        this.correctAnswers = 0;\n        this.currentAttempts = 0;\n    }\n\n    init() {\n        this.container.style.display = 'block';\n        this.setInitialParamas();\n\n        this.createElements();\n\n        this.storeImages(Data.questions);\n\n        if (this.params.startBtn) {\n            this.params.startBtn.addEventListener('click', () => {\n                this.start();\n            }, { once: true});\n        }\n    }\n}\n\nexport default Special;","import Config from './../config';\nimport * as Analytics from './lib/analytics';\n\n/**\n * Base special constructor with common methods\n */\nclass BaseSpecial {\n\n    constructor() {\n        this.keyCodes = {\n            enter: 13\n        };\n        this.params = {\n            container: document.body\n        };\n\n        if (Config.sendPageView) {\n            Analytics.sendPageView();\n        }\n    }\n\n    /**\n     * Save custom params\n     * @param {Object} params - params object with custom values\n     */\n    saveParams() {\n        Object.assign(this.params, Config);\n        this.container = this.params.container;\n\n        this.addEventListeners();\n    }\n\n    /**\n     * Load css file\n     * @param {String} path\n     */\n    loadStyles(path) {\n        return new Promise((resolve, reject) => {\n            let link = document.createElement('link');\n\n            link.rel = 'stylesheet';\n            link.href = path;\n\n            link.onload = () => resolve();\n            link.onerror = () => reject();\n\n            document.body.appendChild(link);\n        });\n    }\n\n    /**\n     * Add event listeners to document\n     */\n    addEventListeners() {\n        this.params.listenedEvents.forEach(eventName => {\n            this.container.addEventListener(eventName, event => this.defaultEventHandler(event, eventName));\n        });\n    }\n\n    /**\n     * Default events handler\n     * @param {Object} event\n     * @param {String} eventName\n     */\n    defaultEventHandler(event, eventName) {\n        let target = event.target;\n        let action;\n\n        while (target.parentNode && target !== event.currentTarget) {\n            action = target.dataset[eventName];\n\n            /** Send all links clicks to analytics */\n            if (eventName === 'click' && target.tagName.toLowerCase() === 'a') {\n                Analytics.sendEvent(target.href);\n            }\n\n            if (action) break;\n            target = target.parentNode;\n        }\n\n        action = target.dataset[eventName];\n\n        if (action && this[action]) {\n            this[action](event.target, event);\n        }\n    }\n\n}\n\nexport default BaseSpecial;","/**\n * Все текстовые значения рекомендуется хранить здесь\n */\nexport default {\n    title: 'Картинка не загрузилась',\n    description: 'Угадайте, что изображено на пиксельном изображении',\n    questions: [{\n        msg: 'Это Рик и Морти.',\n        images: [{\n            img: 'https://leonardo.osnova.io/8a2d2d5d-6a36-31e2-9ed6-b64e723a2bb0/',\n            img2x: 'https://leonardo.osnova.io/e0ce4cb2-037c-a653-e3ba-22f33472e5c5/',\n        }, {\n            img: 'https://leonardo.osnova.io/1b6b96c7-ac24-7975-1040-e161c7225621/',\n            img2x: 'https://leonardo.osnova.io/de921f9b-bcc5-ea5a-34af-4d20bfe3d3f8/',\n        }, {\n            img: 'https://leonardo.osnova.io/7cd43df2-458b-c94c-0020-f119cec11347/',\n            img2x: 'https://leonardo.osnova.io/dafc3590-9c14-9484-afdd-a29f4c879b1b/',\n        }, {\n            img: 'https://leonardo.osnova.io/a5eea722-d8ac-d65b-d43b-b45428a9c056/',\n            img2x: 'https://leonardo.osnova.io/949c43b3-f491-df02-e65a-390e6f7345b2/',\n        }],\n        options: [{\n            text: 'Рик и Морти',\n            isCorrect: true\n        }, {\n            text: '«Футурама»'\n        }, {\n            text: 'Док и Марти'\n        }, {\n            text: 'Улитка Гэри'\n        }]\n    }, {\n        msg: 'Это FACE.',\n        images: [{\n            img: 'https://leonardo.osnova.io/2fb87bb5-3d92-9957-d5d0-a33eddbdba82/',\n            img2x: 'https://leonardo.osnova.io/f72a626d-14d3-f514-8e47-214a51dddf84/',\n        }, {\n            img: 'https://leonardo.osnova.io/37ddede0-02fe-1e11-0103-7d5660c282da/',\n            img2x: 'https://leonardo.osnova.io/f95ef2cc-5ccb-c1d7-90de-142065874df2/',\n        }, {\n            img: 'https://leonardo.osnova.io/74745c0d-a619-fe29-0b06-f4b296b517fa/',\n            img2x: 'https://leonardo.osnova.io/38efd874-d986-440c-fab7-0d33d1ea4f86/',\n        }, {\n            img: 'https://leonardo.osnova.io/e82a0aea-88c3-f0bc-e615-469387e6d641/',\n            img2x: 'https://leonardo.osnova.io/41022690-895c-15b3-0342-ac4ebe8360c9/',\n        }],\n        options: [{\n            text: 'FACE',\n            isCorrect: true\n        }, {\n            text: 'Guf'\n        }, {\n            text: 'Oxxxymiron'\n        }, {\n            text: 'Childish Gambino'\n        }]\n    }, {\n        msg: 'Это лого «МегаФона».',\n        images: [{\n            img: 'https://leonardo.osnova.io/4fef8a73-033c-8bbd-db29-f996a5bd745f/',\n            img2x: 'https://leonardo.osnova.io/44ed0f8e-05e6-2739-f820-cc1056fa888f/',\n        }, {\n            img: 'https://leonardo.osnova.io/fffba824-4e37-70f0-e2a4-c3fa4de2ff66/',\n            img2x: 'https://leonardo.osnova.io/501efaa2-1003-d127-59f7-6d81e1f63830/',\n        }, {\n            img: 'https://leonardo.osnova.io/3fc726ba-2485-3818-91ad-ee78d10f797f/',\n            img2x: 'https://leonardo.osnova.io/9319ab04-7ef9-1fb5-8852-e04b9d115732/',\n        }, {\n            img: 'https://leonardo.osnova.io/8aa1ea53-bec8-965a-a7a4-1d40b7deb48c/',\n            img2x: 'https://leonardo.osnova.io/66984659-03e9-798b-dd1c-7c8d10f4ef3c/',\n        }],\n        options: [{\n            text: 'Лого «МегаФона»',\n            isCorrect: true\n        }, {\n            text: 'Лого Starbucks'\n        }, {\n            text: 'Лого WhatsApp'\n        }, {\n            text: 'Лого Delivery Club'\n        }]\n    }, {\n        msg: 'Это Стоунхендж.',\n        images: [{\n            img: 'https://leonardo.osnova.io/fdae1745-f551-8acc-e8b5-7f3bf141c46b/',\n            img2x: 'https://leonardo.osnova.io/5f4ea891-8c5d-e1d6-35c2-8c5706a001ab/',\n        }, {\n            img: 'https://leonardo.osnova.io/755325f2-14a7-89aa-75da-29c1e6578959/',\n            img2x: 'https://leonardo.osnova.io/8f3cb3db-04f5-a295-4292-a6e3551cc59a/',\n        }, {\n            img: 'https://leonardo.osnova.io/463e9650-5c19-0e11-3faf-b9c3d1834832/',\n            img2x: 'https://leonardo.osnova.io/ffd366b5-e8fa-0b09-666d-47e41a28d9cb/',\n        }, {\n            img: 'https://leonardo.osnova.io/f67ccfca-4109-9e71-3233-35b20fe7636b/',\n            img2x: 'https://leonardo.osnova.io/36208a36-8bb3-ef09-7fe4-d9fb238690eb/',\n        }],\n        options: [{\n            text: 'Стоунхендж',\n            isCorrect: true\n        }, {\n            text: 'Minecraft'\n        }, {\n            text: '«Три богатыря»'\n        }, {\n            text: 'Солдаты в окопе'\n        }]\n    }, {\n        msg: 'Это iPhone XS.',\n        images: [{\n            img: 'https://leonardo.osnova.io/adbb5abe-eab6-fa45-cbf0-7279cae73439/',\n            img2x: 'https://leonardo.osnova.io/2dd676bb-ccd3-5c23-d8e4-1a61285fe62b/',\n        }, {\n            img: 'https://leonardo.osnova.io/8229df68-6b87-0896-cb3c-fc2313ecddb8/',\n            img2x: 'https://leonardo.osnova.io/1da95946-b3e9-c0e9-305e-c3dec7288b95/',\n        }, {\n            img: 'https://leonardo.osnova.io/ffa7e66c-c5eb-9b7b-14d1-972128444ab7/',\n            img2x: 'https://leonardo.osnova.io/8fc1cd52-3527-9f84-1320-97409ffc260f/',\n        }, {\n            img: 'https://leonardo.osnova.io/23aed5f7-e978-319a-2a4e-5cda97bc4ac5/',\n            img2x: 'https://leonardo.osnova.io/5685c066-4845-0690-a5d9-6a0aedd3e48e/',\n        }],\n        options: [{\n            text: 'iPhone XS',\n            isCorrect: true\n        }, {\n            text: 'Поверхность Марса'\n        }, {\n            text: 'Volvo 360c'\n        }, {\n            text: 'Жук-дровосек'\n        }]\n    }, {\n        msg: 'Это Хоакин Феникс.',\n        images: [{\n            img: 'https://leonardo.osnova.io/f6cc2bf8-20dc-1b4f-64c8-456733982891/',\n            img2x: 'https://leonardo.osnova.io/e2f479d2-9626-4c64-5765-99b326643d41/',\n        }, {\n            img: 'https://leonardo.osnova.io/c21d5463-b764-5ffe-ce57-ba290ad33030/',\n            img2x: 'https://leonardo.osnova.io/0730c2aa-182b-8cd8-6ea1-4e217560ce17/',\n        }, {\n            img: 'https://leonardo.osnova.io/65a482b8-0f64-b77b-cff3-ce875d3ebe16/',\n            img2x: 'https://leonardo.osnova.io/1befcd4d-6395-01bb-1d2b-d94656767cc1/',\n        }, {\n            img: 'https://leonardo.osnova.io/5fef5cce-7673-1a39-9cc0-a6db9bb9a70a/',\n            img2x: 'https://leonardo.osnova.io/f2194d57-8ef6-9a0b-ede0-4b27781c9fe4/',\n        }],\n        options: [{\n            text: 'Хоакин Феникс',\n            isCorrect: true\n        }, {\n            text: 'Джаред Лето'\n        }, {\n            text: 'Хит Леджер'\n        }, {\n            text: 'Джек Николсон'\n        }]\n    }, {\n        msg: 'Это сайт Роскомнадзора.',\n        images: [{\n            img: 'https://leonardo.osnova.io/4c449935-8ed5-bf93-8cbc-be47dc56959f/',\n            img2x: 'https://leonardo.osnova.io/16e24103-f7d4-bc58-d147-5c6b3e41bc8d/',\n        }, {\n            img: 'https://leonardo.osnova.io/481682d2-df01-7105-db1e-c281eca3403b/',\n            img2x: 'https://leonardo.osnova.io/389f757f-95de-b1ee-c16f-bd4bfca3ae81/',\n        }, {\n            img: 'https://leonardo.osnova.io/ebd1bda0-a963-724b-9eab-7f0a476293dc/',\n            img2x: 'https://leonardo.osnova.io/c0725b5d-ba00-a66f-113e-b2ab9aad608d/',\n        }, {\n            img: 'https://leonardo.osnova.io/ba1ded58-dfaf-4a40-114a-833477259dc5/',\n            img2x: 'https://leonardo.osnova.io/d8b6f1e2-6cf5-c074-514f-abb218ef7169/',\n        }],\n        options: [{\n            text: 'Роскомнадзор',\n            isCorrect: true\n        }, {\n            text: 'ВКонтакте'\n        }, {\n            text: 'Facebook'\n        }, {\n            text: 'Telegram'\n        }]\n    }, {\n        msg: 'Это <a href=\"http://milliondollarhomepage.com/\" target=\"_blank\">milliondollarhomepage.com</a>.',\n        images: [{\n            img: 'https://leonardo.osnova.io/6888febc-f046-682a-5644-5359918832ae/',\n            img2x: 'https://leonardo.osnova.io/c9274fca-ea3b-4977-190f-c61cf4387d8a/',\n        }, {\n            img: 'https://leonardo.osnova.io/01367270-7055-4182-375b-db61597541d7/',\n            img2x: 'https://leonardo.osnova.io/bf6609f6-e9a1-2e4e-89ab-6d24583e87c5/',\n        }, {\n            img: 'https://leonardo.osnova.io/59ab2da6-1941-1e1d-b8fb-6ed42d03c4f1/',\n            img2x: 'https://leonardo.osnova.io/6ca3a604-0340-a373-793a-d8357f354ae9/',\n        }, {\n            img: 'https://leonardo.osnova.io/c27e6ab0-a4f0-28a9-3a7b-30bd2e2de756/',\n            img2x: 'https://leonardo.osnova.io/eb35b1e6-da8d-e150-11db-b21a016e5ffe/',\n        }],\n        options: [{\n            text: 'milliondollarhomepage.com',\n            isCorrect: true\n        }, {\n            text: 'Афиша Дня города Волоколамска'\n        }, {\n            text: 'Полотно пользователей Reddit'\n        }, {\n            text: 'Конфеты Skittles'\n        }]\n    }, {\n        msg: 'Это Дуров с голым торсом.',\n        images: [{\n            img: 'https://leonardo.osnova.io/6743beec-d5fd-ddbe-683b-57274c72dbea/',\n            img2x: 'https://leonardo.osnova.io/fb70ee8c-fa8f-24ba-8124-e40af6406050/',\n        }, {\n            img: 'https://leonardo.osnova.io/d2895eea-232b-df0d-d67f-c5968ea5391b/',\n            img2x: 'https://leonardo.osnova.io/bf60a6a5-4dd1-475f-4f37-6643f0958172/',\n        }, {\n            img: 'https://leonardo.osnova.io/839abd90-7c2f-3795-e3d4-b3712bf32ad4/',\n            img2x: 'https://leonardo.osnova.io/820fce64-29a6-d303-633c-9f304444b466/',\n        }, {\n            img: 'https://leonardo.osnova.io/cf2dcce5-83e1-b97c-8304-a79841eddb49/',\n            img2x: 'https://leonardo.osnova.io/b4560ea9-c8e7-6449-af54-9d4fac238521/',\n        }],\n        options: [{\n            text: 'Дуров с голым торсом',\n            isCorrect: true\n        }, {\n            text: 'Лысый из Brazzers'\n        }, {\n            text: 'Лысая собака'\n        }, {\n            text: 'Коленка'\n        }]\n    }, {\n        msg: 'Это Falcon 9.',\n        images: [{\n            img: 'https://leonardo.osnova.io/158ab1fc-05e6-d2a8-d55f-6a3d960cfa3b/',\n            img2x: 'https://leonardo.osnova.io/ffbdb075-08c2-2136-41be-143de11fee3f/',\n        }, {\n            img: 'https://leonardo.osnova.io/96b5571a-5c4c-0cfc-beb0-eb5641786080/',\n            img2x: 'https://leonardo.osnova.io/bcd504bf-34e4-869f-ddfc-0380f8ec659e/',\n        }, {\n            img: 'https://leonardo.osnova.io/142d955a-dea2-fddf-2b87-3a5c483a8334/',\n            img2x: 'https://leonardo.osnova.io/d7139c72-2c0c-55af-3ac2-b31f83643393/',\n        }, {\n            img: 'https://leonardo.osnova.io/f2eacd5b-c474-2521-21f6-81a3e41b3370/',\n            img2x: 'https://leonardo.osnova.io/42e70259-2f62-b91f-cc1b-fe5fe21f603a/',\n        }],\n        options: [{\n            text: 'Falcon 9',\n            isCorrect: true\n        }, {\n            text: 'Средний палец'\n        }, {\n            text: 'Ким Кардашьян на пляже'\n        }, {\n            text: 'Ядерный гриб'\n        }]\n    }],\n    results: [{\n        index: 1,\n        range: [0,3],\n        text: 'Это голубь?',\n        img: 'https://leonardo.osnova.io/5b1c084d-99d6-b930-c863-f3acec2d5c84/',\n        img2x: 'https://leonardo.osnova.io/c7480e1d-aa8c-f9d3-fccc-bba4c52c207f/'\n    }, {\n        index: 2,\n        range: [4,7],\n        text: 'Догружаю картинки в&nbsp;голове',\n        img: 'https://leonardo.osnova.io/59d57d9d-984e-cdce-8950-cb38a5ab2340/',\n        img2x: 'https://leonardo.osnova.io/991cf4fe-7477-0475-e07c-fc929d9a4994/'\n    }, {\n        index: 3,\n        range: [8,10],\n        text: 'Статус: Растрамен',\n        img: 'https://leonardo.osnova.io/60ca9edf-6861-5e57-1276-204a773bbe30/',\n        img2x: 'https://leonardo.osnova.io/5973b32f-251e-d36a-20f3-089ca6d76f03/'\n    }]\n};","/**\n * Все svg-иконки рекомендуется хранить здесь,\n * предварительно прогнав их через https://jakearchibald.github.io/svgomg/\n */\nexport default {\n    logo: '<svg width=\"160\" height=\"29\"><path d=\"M16 .05v14.66a1.14 1.14 0 0 1-1.18 1.13h-1.74a.17.17 0 0 0-.16.16v12.31c.42 0 .84.11 1.32.11A14.24 14.24 0 0 0 16 .05zm-.34 21.94a1.74 1.74 0 1 1 1.74-1.74 1.66 1.66 0 0 1-1.74 1.74zm4.17 0a1.74 1.74 0 1 1 1.74-1.74 1.72 1.72 0 0 1-1.74 1.74zm6-1.74A1.74 1.74 0 1 1 24 18.51a1.75 1.75 0 0 1 1.78 1.74z\"/><path d=\"M14.18 13.97l.05-14A14.24 14.24 0 0 0 0 14.24 14.06 14.06 0 0 0 11.23 28.1V15.29a1.29 1.29 0 0 1 1.05-1.16H14a.17.17 0 0 0 .18-.16zm-2.69-2.27a1.74 1.74 0 1 1 1.74-1.74 1.79 1.79 0 0 1-1.74 1.75zM156.76 7.75v5.38h-7.17V7.75h-3.64v14.24h3.64v-5.75h7.17v5.75h3.53V7.75h-3.53zM94.59 7.43a3.16 3.16 0 0 0-2.9 2l-5.74 12.61h3.8l1.27-3h7.38l1.27 3h3.8l-6-12.65a3.22 3.22 0 0 0-2.88-1.96zM92 16.19l2.16-5.22a.25.25 0 0 1 .27-.13c.11 0 .26 0 .26.16l2.16 5.22H92zM55.1 5.22c-1.69 0-2.74.9-3.53 2.69L47 18.61 42.34 7.84c-.74-1.74-1.85-2.69-3.53-2.69s-3.16 1.05-3.16 3.53v13.25h3.53V9.17l4.69 10.6A3.32 3.32 0 0 0 47 22.2a3.23 3.23 0 0 0 3.11-2.43l4.69-10.6v12.92h3.53V8.84c-.07-2.46-1.65-3.62-3.23-3.62zM60.69 9.75v10a2.15 2.15 0 0 0 2.11 2.09h10.54v-3h-8.8V19a.4.4 0 0 1-.37-.37v-2.55H73v-2.9h-8.83v-2.16a.4.4 0 0 1 .37-.37h8.81v-3H62.8a2.08 2.08 0 0 0-2.11 2.1zM88.48 7.75H77.93a2.08 2.08 0 0 0-2.11 2.09v12.09l3.48.05V11.13a.4.4 0 0 1 .37-.37h8.81v-3zM136.09 7.65h-1.27c-5.38 0-7.54 2.37-7.54 7.28s2.16 7.28 7.54 7.28H136c5.48-.11 7.65-2.43 7.65-7.28s-2.18-7.28-7.56-7.28zM136 19.19h-1.16c-2.9 0-4.11-1.32-4.11-4.27s1-4.27 4.11-4.27H136c3 0 4.11 1.42 4.11 4.27S139 19.19 136 19.19zM117.42 5.54h-7.07c-5.26 0-7.35 2.69-7.35 7.3 0 .74.11 1.42.16 2 .58 3.27 2.53 5.27 7.43 5.27h1.58v1.85h3.53v-1.87h1.53c5 0 6.91-2 7.43-5.27a11.44 11.44 0 0 0 .16-2c-.07-4.59-2.23-7.28-7.4-7.28zm-5.32 11.6h-1.63c-2.43 0-3.27-.9-3.8-2.37a7.72 7.72 0 0 1-.16-2c0-3 1.42-4.27 3.43-4.27h2.16v8.64zm9-2.21c-.53 1.42-1.42 2.37-3.8 2.37h-1.58V8.59h2.16c2 0 3.43 1.27 3.43 4.27a11.76 11.76 0 0 1-.2 2.06z\"/></svg>',\n    img: '<svg width=\"23\" height=\"18\"><path d=\"M21.97-.02H.35A.35.35 0 0 0 0 .36v16.9a.35.35 0 0 0 .35.35h21.62a.35.35 0 0 0 .35-.35V.36a.35.35 0 0 0-.35-.38zM20.2 14.79l-4.86-5a.14.14 0 0 0-.2 0l-3.37 3L7.5 7.41a.14.14 0 0 0-.12-.05.14.14 0 0 0-.11.06l-5.1 6.85V2.13H20.2v12.66z\"/><circle cx=\"14.86\" cy=\"5.5\" r=\"1.74\"/></svg>',\n    arrow: '<svg width=\"28\" height=\"16\"><path d=\"M23.463 9l-5.645 5.269 1.364 1.462L27.466 8 19.182.269 17.818 1.73 23.463 7H.48v2h22.983z\"/></svg>',\n    refresh: '<svg width=\"15\" height=\"15\"><path d=\"M14.62.674c-.268-.11-.495-.065-.684.136l-1.27 1.26A7.58 7.58 0 0 0 10.278.542 7.357 7.357 0 0 0 7.5 0a7.298 7.298 0 0 0-2.91.596 7.565 7.565 0 0 0-2.393 1.601A7.567 7.567 0 0 0 .596 4.59 7.298 7.298 0 0 0 0 7.5c0 1.015.199 1.986.596 2.91a7.567 7.567 0 0 0 1.601 2.393 7.57 7.57 0 0 0 2.393 1.601A7.298 7.298 0 0 0 7.5 15c1.12 0 2.185-.236 3.194-.708a7.333 7.333 0 0 0 2.578-1.997.32.32 0 0 0 .073-.22.27.27 0 0 0-.093-.2l-1.338-1.348a.376.376 0 0 0-.244-.087c-.104.013-.179.052-.224.117a4.904 4.904 0 0 1-1.748 1.436A4.925 4.925 0 0 1 7.5 12.5a4.87 4.87 0 0 1-1.938-.395 5.034 5.034 0 0 1-1.597-1.07A5.038 5.038 0 0 1 2.896 9.44 4.87 4.87 0 0 1 2.5 7.5c0-.677.132-1.323.396-1.938a5.036 5.036 0 0 1 1.07-1.597c.449-.45.98-.806 1.596-1.07A4.87 4.87 0 0 1 7.5 2.5c1.309 0 2.445.446 3.409 1.338L9.56 5.186c-.202.195-.248.42-.137.674.11.26.303.39.576.39h4.375a.6.6 0 0 0 .44-.185.6.6 0 0 0 .185-.44V1.25a.584.584 0 0 0-.38-.576z\"/></svg>',\n};","import Likely from 'cmtt-likely';\n\nimport { makeElement } from './dom';\nimport * as Analytics from './analytics';\n\nconst CSS = {\n    likely: 'likely',\n    likelyCustom: 'likely--custom'\n};\n\nexport const init = () => {\n    Likely.initate();\n};\n\n/**\n * Make likely buttons and append to specified element\n * @param {Element} parentContainer - likely container will be placed here\n * @param {Object} set - object with optional params (title, url, twitter)\n */\nexport const make = (parentContainer, set = {}) => {\n    let likelyContainer = makeElement('div', [CSS.likely, CSS.likelyCustom]);\n    let socials = ['facebook', 'vkontakte', 'twitter'];\n\n    socials.forEach(social => {\n        let button = makeElement('div', social);\n\n        if (social === 'facebook') button.innerHTML = 'Поделиться';\n\n        button.addEventListener('click', () => {\n            Analytics.sendEvent(`Share ${social}`);\n        });\n\n        likelyContainer.appendChild(button);\n    });\n\n    parentContainer.appendChild(likelyContainer);\n\n    if (set.url) likelyContainer.dataset.url = set.url;\n    if (set.twitter) likelyContainer.dataset.twitter = set.twitter;\n    if (set.title) likelyContainer.dataset.title = set.title;\n\n    init();\n};","// 'use strict';\n\nvar Likely = require('./widget'),\n    config = require('./config'),\n    utils = require('./utils'),\n    dom = require('./dom');\n\n/**\n * @param {Node} node\n * @param {Object} options\n */\nvar likely = function (node, options) {\n    options = options || {};\n\n    var widget = node[config.name];\n\n    if (widget) {\n        widget.update(options);\n    }\n    else {\n        node[config.name] = new Likely(node, utils.merge(\n            {}, likely.defaults,\n            options, utils.bools(node)\n        ));\n    }\n\n    return widget;\n};\n\n/**\n * Initiate Likely buttons on load\n */\nlikely.initiate = likely.initate = function () {\n    var widgets = dom.findAll('.' + config.name);\n\n    utils.toArray(widgets).forEach(likely);\n};\n\n/**\n * Defaults options for likely\n */\nlikely.defaults = {\n    counters: true,\n    timeout:  1e3,\n    zeroes:   false,\n    title:    document.title,\n    wait:     0.5e3,\n    url:      window.location.href.replace(window.location.hash, '')\n};\n\nmodule.exports = likely;","var Button = require('./button');\n\nvar services = require('./services'),\n    config   = require('./config'),\n    utils = require('./utils'),\n    dom = require('./dom'),\n    storage = require('./storage');\n\n/**\n * Main widget view\n *\n * @param {Node} container\n * @param {Object} options\n */\nfunction Likely(container, options) {\n    this.isSmartOrder = container.dataset.smart !== undefined ? true : false;\n    this.container = container;\n    this.options   = options;\n\n    this.countersLeft = 0;\n    this.buttons      = [];\n    this.number       = 0;\n\n    this.init();\n}\n\nLikely.prototype = {\n\n    /**\n     * Change buttons order, if previous clicks were saved\n     * @param {Array} children\n     */\n    reorder: function (children) {\n        var savedServices = storage.getItem(config.storageKey);\n\n        if (savedServices) {\n            savedServices.reverse();\n\n            savedServices.forEach(function (service) {\n\n                var button = dom.find('.' + service);\n\n                if (button) {\n                    button.parentNode.insertBefore(button, button.parentNode.firstChild);\n                }\n\n            });\n        }\n    },\n\n    /**\n     * Initiate the social buttons widget\n     */\n    init: function () {\n\n        var buttons = utils.toArray(this.container.children);\n\n        if (dom.isMobile() && this.isSmartOrder) {\n            this.reorder(buttons);\n        }\n\n        buttons.forEach(this.addButton.bind(this));\n\n        if (this.options.counters) {\n            this.timer   = setTimeout(this.appear.bind(this), this.options.wait);\n            this.timeout = setTimeout(this.ready.bind(this),  this.options.timeout);\n        }\n        else {\n            this.appear();\n        }\n\n        utils.flexboxSupport(this.container, config.name);\n    },\n\n    /**\n     * Add a button\n     *\n     * @param {Node} node\n     */\n    addButton: function (node) {\n        var button = new Button(node, this, this.options);\n\n        this.buttons.push(button);\n\n        if (button.options.counterUrl) {\n            this.countersLeft++;\n        }\n    },\n\n    /**\n     * Update the timer with URL\n     *\n     * @param {Object} options\n     */\n    update: function (options) {\n        if (\n            options.forceUpdate ||\n            options.url !== this.options.url\n        ) {\n            this.countersLeft = this.buttons.length;\n            this.number = 0;\n\n            this.buttons.forEach(function (button) {\n                button.update(options);\n            });\n        }\n    },\n\n    /**\n     * Update counter\n     *\n     * @param {String} service\n     * @param {Number} counter\n     */\n    updateCounter: function (service, counter) {\n        if (counter) {\n            this.number += counter;\n        }\n\n        this.countersLeft--;\n\n        if (this.countersLeft === 0) {\n            this.appear();\n            this.ready();\n        }\n    },\n\n    /**\n     * Show the buttons with smooth animation\n     */\n    appear: function () {\n        this.container.classList.add(config.name + '--visible');\n    },\n\n    /**\n     * Get. Set. Ready.\n     */\n    ready: function () {\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n\n            this.container.classList.add(config.name + '--ready');\n        }\n    }\n};\n\nmodule.exports = Likely;","var services = require('./services'),\n    config = require('./config'),\n    fetch = require('./fetch'),\n    utils = require('./utils'),\n    dom = require('./dom'),\n    storage = require('./storage');\n\nvar htmlSpan = '<span class=\"{className}\">{content}</span>';\n\n/**\n * Separate social link widget\n *\n * @param {Node} widget\n * @param {Likely} likely\n * @param {Object} options\n */\nfunction LikelyButton (widget, likely, options) {\n    this.widget  = widget;\n    this.likely  = likely;\n    this.options = utils.merge(options);\n\n    this.init();\n}\n\nLikelyButton.prototype = {\n    /**\n     * Initiate the button\n     */\n    init: function () {\n        this.detectService();\n        this.detectParams();\n\n        if (this.service) {\n            this.initHtml();\n\n            setTimeout(this.initCounter.bind(this), 0);\n        }\n    },\n\n    /**\n     * Update the counter\n     *\n     * @param {Object} options\n     */\n    update: function (options) {\n        var className = '.' + config.prefix + 'counter';\n            counters  = dom.findAll(className, this.widget);\n\n        utils.extend(this.options, utils.merge({forceUpdate: false}, options));\n        utils.toArray(counters).forEach(function (node) {\n            node.parentNode.removeChild(node);\n        });\n\n        this.initCounter();\n    },\n\n    /**\n     * Get the config.name of service and its options\n     */\n    detectService: function () {\n        var widget  = this.widget,\n            service = utils.getDataset(widget).service;\n\n        if (!service) {\n            var classes = widget.className.split(' ');\n\n            for (var i = 0; i < classes.length; i++) {\n                if (classes[i] in services) break;\n            }\n\n            service = classes[i];\n        }\n\n        if (service) {\n            this.service = service;\n\n            utils.extend(this.options, services[service]);\n        }\n    },\n\n    /**\n     * Merge params from data-* attributes into options hash map\n     */\n    detectParams: function () {\n        var options = this.options,\n            data    = utils.getDataset(this.widget);\n\n        if (data.counter) {\n            var counter = parseInt(data.counter, 10);\n\n            if (isNaN(counter)) {\n                options.counterUrl = data.counter;\n            }\n            else {\n                options.counterNumber = counter;\n            }\n        }\n\n        options.title = data.title || options.title;\n        options.url   = data.url   || options.url;\n    },\n\n    /**\n     * Inititate button's HTML\n     */\n    initHtml: function () {\n        var options = this.options,\n            widget  = this.widget,\n            text    = widget.innerHTML;\n\n        widget.addEventListener('click', this.click.bind(this));\n        widget.classList.remove(this.service);\n        widget.className += (' ' + this.className('widget'));\n\n        var button = utils.template(htmlSpan, {\n            className: this.className('button'),\n            content:   text\n        });\n\n        var icon = utils.template(htmlSpan, {\n            className: this.className('icon'),\n            content:   dom.wrapSVG(options.svgi)\n        });\n\n        widget.innerHTML = icon + button;\n    },\n\n    /**\n     * Fetch or get cached counter value and update the counter\n     */\n    initCounter: function () {\n        var options = this.options;\n\n        if (options.counters && options.counterNumber) {\n            this.updateCounter(options.counterNumber);\n        }\n        else if (options.counterUrl) {\n            fetch(\n                this.service,\n                options.url,\n                options\n            )(this.updateCounter.bind(this));\n        }\n    },\n\n    /**\n     * @param {String} className\n     * @return {String}\n     */\n    className: function (className) {\n        var fullClass = config.prefix + className;\n\n        return fullClass + ' ' + fullClass + '--' + this.service;\n    },\n\n    /**\n     * Update counter\n     *\n     * @param {String} e\n     */\n    updateCounter: function (counter) {\n        counter = parseInt(counter, 10) || 0;\n\n        var counterElement = dom.find('.' + config.name + '__counter', this.widget);\n\n        if (counterElement) {\n            counterElement.parentNode.removeChild(counterElement);\n        }\n\n        var options = {\n            className: this.className('counter'),\n            content:   counter\n        };\n\n        if (!counter && !this.options.zeroes) {\n            options.className += ' ' + config.prefix + 'counter--empty';\n            options.content = '';\n        }\n\n        this.widget.appendChild(\n            dom.createNode(utils.template(htmlSpan, options))\n        );\n\n        this.likely.updateCounter(this.service, counter);\n    },\n\n    /**\n     * Click event listener\n     */\n    click: function () {\n        var options = this.options;\n\n        if ( this.service == 'more' ){\n\n            this.widget.classList.toggle('active');\n            this.widget.parentElement.classList.toggle(this.options.className);\n\n        } else if (this.service == 'email'){\n\n            var url = utils.makeUrl(options.popupUrl, {\n                url: options.url,\n                title: options.title\n            });\n\n            window.location = url;\n\n            this.rememberClicked(this.service);\n\n        } else {\n\n            if (options.click.call(this)) {\n\n                var twitterText = this.likely.container.dataset.twitter,\n                    twitterUrl = this.likely.container.dataset.twitterUrl;\n\n                var window_url = utils.makeUrl(options.popupUrl, {\n                    url:   (this.service === 'twitter' && twitterUrl !== '' && twitterUrl !== undefined) ? twitterUrl : options.url,\n                    title: (this.service === 'twitter' && twitterText !== '' && twitterText !== undefined) ? twitterText : options.title\n                });\n\n                dom.openPopup(\n                    this.addAdditionalParamsToUrl(window_url),\n                    config.prefix + this.service,\n                    options.popupWidth,\n                    options.popupHeight\n                );\n\n                this.rememberClicked(this.service);\n            }\n\n        }\n\n        return false;\n    },\n\n    /**\n     * Append service data to URL\n     *\n     * @param {String} url\n     */\n    addAdditionalParamsToUrl: function (url) {\n        var parameters = utils.query(utils.merge(\n                this.widget.dataset,\n                this.options.data\n            )),\n            delimeter = url.indexOf('?') === -1 ? '?' : '&';\n\n        return (parameters === '') ? url : (url + delimeter + parameters);\n    },\n\n    /**\n     * Remember last clicked button and save to storage\n     */\n    rememberClicked: function (service) {\n        var services = storage.getItem(config.storageKey) || [],\n            serviceIndex = services.indexOf(service);\n\n        if (serviceIndex !== -1) {\n            services.splice(serviceIndex, 1);\n        }\n\n        services.splice(0, 0, service);\n\n        storage.setItem(config.storageKey, services);\n    }\n};\n\nmodule.exports = LikelyButton;","var dom = require('./dom');\n\n/**\n * @param {String} url\n * @param {Function} factory\n */\nvar counter = function (url, factory) {\n    var self = this;\n    \n    dom.getJSON(url, function (count) {\n        try {\n            if (typeof self.convertNumber === 'function') {\n                count = self.convertNumber(count);\n            } \n            \n            factory(count);\n        } \n        catch (e) {}\n    });\n};\n\n/**\n * @param {Object} options\n */\nmodule.exports = function (options) {\n    options.counter = options.counter || counter;\n    options.click   = options.click   || function () { return true; };\n};","/**\n * Odnoklassniki service provider\n */\n\nvar config = require('../config'),\n    utils  = require('../utils'),\n    dom    = require('../dom');\n\nvar odnoklassniki = {\n    counterUrl: config.secure \n        ? undefined \n        : 'http://connect.ok.ru/dk?st.cmd=extLike&ref={url}&uid={index}',\n    counter: function (url, promise) {\n        this.promises.push(promise);\n        \n        dom.getScript(utils.makeUrl(url, {\n            index: this.promises.length - 1\n        }));\n    },\n    promises: [],\n    popupUrl: 'http://connect.ok.ru/dk?st.cmd=WidgetSharePreview&service=odnoklassniki&st.shareUrl={url}',\n    popupWidth: 640,\n    popupHeight: 400\n};\n\nutils.set(window, 'ODKL.updateCount', function (index, counter) {\n    odnoklassniki.promises[index](counter);\n});\n\nmodule.exports = odnoklassniki;","/**\n * Vkontakte service provider\n */\n\nvar config = require('../config'),\n    utils  = require('../utils'),\n    dom    = require('../dom');\n\nvar vkontakte = {\n    counterUrl: 'https://vk.com/share.php?act=count&url={url}&index={index}',\n    counter: function (url, promise) {\n        this.promises.push(promise);\n        \n        dom.getScript(utils.makeUrl(url, {\n            index: this.promises.length - 1\n        }));\n    },\n    promises: [],\n    popupUrl: config.protocol + '//vk.com/share.php?url={url}&title={title}',\n    popupWidth: 550,\n    popupHeight: 330\n};\n\nutils.set(window, 'VK.Share.count', function (index, count) {\n    vkontakte.promises[index](count);\n});\n\nmodule.exports = vkontakte;\n","/**\n * Facebook service provider\n */\n\nmodule.exports = {\n    counterUrl: 'https://graph.facebook.com/?fields=share,og_object{likes.limit(0).summary(true),comments.limit(0).summary(true)}&id={url}&callback=?',\n    convertNumber: function (counter) {\n        return counter.share.share_count;\n    },\n    popupUrl: 'https://www.facebook.com/sharer/sharer.php?u={url}',\n    popupWidth: 600,\n    popupHeight: 500\n};","/**\n * Twitter service provider\n */\n\nvar config = require('../config');\n\nvar twitter = {\n    popupUrl: config.protocol + '//twitter.com/intent/tweet?url={url}&text={title}',\n    popupWidth: 600,\n    popupHeight: 450,\n    click: function () {\n        if (!/[\\.\\?:\\-–—]\\s*$/.test(this.options.title)) {\n            this.options.title += ':';\n        }\n\n        return true;\n    }\n};\n\nmodule.exports = twitter;\n","/**\n * Google+ service provider\n */\n\nvar config = require('../config'),\n    utils  = require('../utils'),\n    dom    = require('../dom');\n\nvar gplus = {\n    gid: 0,\n    promises: {},\n    popupUrl: 'https://plus.google.com/share?url={url}',\n    popupWidth: 700,\n    popupHeight: 500\n};\n\nmodule.exports = gplus;","/**\n * Pocket service provider\n */\n\nvar config = require('../config');\n\nvar pocket = {\n    popupUrl: config.protocol + '//getpocket.com/save?url={url}&format=json&callback=?',\n    popupWidth: 600,\n    popupHeight: 300\n};\n\nmodule.exports = pocket;","/**\n * Telegram service provider\n */\n\nmodule.exports = {\n    popupUrl: 'tg://msg?text={title}%0A{url}',\n    popupWidth: 600,\n    popupHeight: 450\n};","/**\n * WhatsApp service provider\n */\n\nmodule.exports = {\n    popupUrl: 'whatsapp://send?text={title}%0A{url}',\n    popupWidth: 600,\n    popupHeight: 450\n};","/**\n * Viber service provider\n */\n\nmodule.exports = {\n    popupUrl: 'viber://forward?text={title}%0A{url}',\n    popupWidth: 600,\n    popupHeight: 450\n};","/**\n * E-mail service provider\n */\n\nvar config = require('../config');\n\nvar email = {\n    popupUrl: 'mailto:?subject={title}&body={url}',\n    popupWidth: 0,\n    popupHeight: 0\n};\n\nmodule.exports = email;","var config = require('../config');\n\nmodule.exports = {\n\tparent: config.name,\n    className: config.name + '--expanded'\n};","var services = require('./services'),\n    Factory  = require('./factory'),\n    utils    = require('./utils'),\n    dom      = require('./dom');\n\nvar factories = {};\n\n/**\n * Fetch data\n *\n * @param {String} service\n * @param {String} url\n * @param {Object} options\n * @return {Promise}\n */\nmodule.exports = function (service, url, options) {\n    if (!factories[service]) {\n        factories[service] = {};\n    }\n\n    var counters = factories[service],\n        counter  = counters[url];\n\n    if (!options.forceUpdate && counter) {\n        return counter;\n    }\n\n    counter = Factory();\n\n    var href = utils.makeUrl(options.counterUrl, {\n        url: url\n    });\n\n    services[service].counter(href, counter, url);\n\n    counters[url] = counter;\n\n    return counters[url];\n};","/**\n * Factory function\n * \n * This function returns function with following API:\n * \n * - if passed argument is callback, then this callback would be callled\n *   if the value was changed\n * - if passed argument is anything but undefined or function, then this \n *   function behaves like setter\n * - if argument isn't provided, then return value stored in closure\n * \n * @param {Object} value\n * @return {Function}\n */\nmodule.exports = function (value) {\n    var listeners = [];\n    \n    return function (argument) {\n        var type = typeof argument;\n        \n        if (type == 'undefined') {\n            return value;\n        }\n        else if (type == 'function') {\n            listeners.push(argument);\n        }\n        else {\n            value = argument;\n            \n            listeners.forEach(function (listener) {\n                listener(argument);\n            });\n        }\n    };\n};","/**\n * Find most frequent value in array\n * @param {Array} array\n */\nexport const getMostFrequentValue = (array) => {\n    let result = [...array];\n\n    return result.sort((a, b) =>\n        result.filter(v => v === a).length - result.filter(v => v === b).length\n    ).pop();\n};\n\n/**\n * Shuffle an array (original array will be modified)\n * @param {Array} array\n */\nexport const shuffle = (array) => {\n    let j, x, i;\n\n    for (i = array.length - 1; i > 0; i--) {\n        j = Math.floor(Math.random() * (i + 1));\n        x = array[i];\n        array[i] = array[j];\n        array[j] = x;\n    }\n};\n\n/**\n * Convert nodelist to array\n * @param {NodeList} nodeList\n */\nexport const toArray = (nodeList) => {\n    return Array.prototype.slice.call(nodeList);\n};","function requestAnimate(options) {\n\n  var start = performance.now();\n\n  requestAnimationFrame(function animate(time) {\n    var timeFraction = (time - start) / options.duration;\n    if (timeFraction > 1) timeFraction = 1;\n\n    var progress = options.timing(timeFraction)\n\n    options.draw(progress);\n\n    if (timeFraction < 1) {\n      requestAnimationFrame(animate);\n    }\n\n  });\n}\n\nfunction one (node, type, callback) {\n    type = type.split(' ');\n    for (let i = 0; i < type.length; i++) {\n        let func = function (e) {\n            for (let j = 0; j < type.length; j++) {\n                e.currentTarget.removeEventListener(type[j], func);\n            }\n            return callback(e)\n        }\n        node.addEventListener(type[i], func, false);\n    }\n}\n\nfunction animate(elem, className, duration = false, delay = false) {\n    return new Promise((resolve, reject) => {\n        one(elem, 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', () => {\n            if (duration) { elem.style.animationDuration = ''; }\n            if (delay) { elem.style.animationDelay = ''; }\n            elem.classList.remove(className);\n            elem.classList.remove('animated');\n\n            resolve();\n        });\n\n        if (duration) { elem.style.animationDuration = duration; }\n        if (delay) { elem.style.animationDelay = delay; }\n\n        elem.classList.add(className);\n        elem.classList.add('animated');\n    });\n}\n\nexport {\n    animate,\n    requestAnimate\n}"],"sourceRoot":""}